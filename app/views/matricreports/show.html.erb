<html>
  <head>
 
<script type="text/javascript">
      google.charts.load('current', {'packages':['bar']});
      google.charts.setOnLoadCallback(drawChart);
      function drawChart() {
        var data = google.visualization.arrayToDataTable([
          ['Year', 'Pass Rate', 'Failure rate'],
          ['2014', (<%= @matricreport.passed_2014 %> / <%= @matricreport.wrote_2014 %>) * 100,
          ((<%= @matricreport.wrote_2014 %> - <%= @matricreport.passed_2014 %>) / <%= @matricreport.wrote_2014 %>) * 100],
          ['2015', (<%= @matricreport.passed_2015 %> / <%= @matricreport.wrote_2015 %>) * 100,
          ((<%= @matricreport.wrote_2015%> - <%= @matricreport.passed_2015 %>) / <%= @matricreport.wrote_2015 %>) * 100],
          ['2016', (<%= @matricreport.passed_2016 %> / <%= @matricreport.wrote_2016 %>) * 100,
          ((<%= @matricreport.wrote_2016 %> - <%= @matricreport.passed_2016 %>) / <%= @matricreport.wrote_2016 %>) * 100]
         
        ]);
        var options = {
          chart: {
            title: '<%= @matricreport.school_name %>',
            subtitle: 'Rates',
            align: "center",
            
          },
           vAxis: {
          title: 'Percentage (%)',
          minValue: 0,
          maxValue: 100,
          format:'#,##%'
        },
        hAxis: {
          title: 'Year'
        },
          bars: 'vertical',
          backgroundColor: 'rgb(50,150,255)'

        };
        var chart = new google.charts.Bar(document.getElementById('chartcontainer'));
        chart.draw(data, google.charts.Bar.convertOptions(options));
      }
    </script>
       <script type="text/javascript">
      google.charts.load('current', {'packages':['corechart']});
      google.charts.setOnLoadCallback(drawSeriesChart);

    function drawSeriesChart() {

      var data = google.visualization.arrayToDataTable([
        ['ID', 'Number wrote exam', 'Number pass exam'],
        ['2014',    <%= @matricreport.wrote_2014 %>, <%= @matricreport.passed_2014 %>],
        ['2015',    <%= @matricreport.wrote_2015 %>, <%= @matricreport.passed_2015 %>],
        ['2016',    <%= @matricreport.wrote_2016 %>, <%= @matricreport.passed_2016 %>]
       
      ]);

      var options = {
        title: '<%= @matricreport.school_name %>',
        hAxis: {title: 'Number wrote exam'},
        vAxis: {title: 'Number pass exam'},
        bubble: {textStyle: {fontSize: 11}},
        backgroundColor: 'rgb(50,150,255)'
      };

      var chart = new google.visualization.BubbleChart(document.getElementById('chart-container'));
      chart.draw(data, options);
    }
    </script>
    <script type="text/javascript">
      google.charts.load('current', {'packages':['corechart']});
      google.charts.setOnLoadCallback(drawChart);
      function drawChart() {
        var data = google.visualization.arrayToDataTable([
          ['Year', 'pass average'],
          ['2014',  (<%= @matricreport.passed_2014 %> / <%= @matricreport.wrote_2014 %>) * 100],
          ['2015',  (<%= @matricreport.passed_2015 %> / <%= @matricreport.wrote_2015 %>) * 100],
          ['2016',  (<%= @matricreport.passed_2016 %> / <%= @matricreport.wrote_2016 %>) * 100]
        ]);
        var options = {
          title: '<%= @matricreport.school_name %>',
          curveType: 'function',
          legend: { position: 'right' },
          backgroundColor: 'rgb(50,150,255)'
        };
        var chart = new google.visualization.LineChart(document.getElementById('barchart_material'));
        chart.draw(data, options);
      }
    </script>
  </head>
  </head>
  <body><div class="container">
<button class="btn btn-default btn-lg col-md-4 col-xs-4" id="btn1">Peformance Rates</button>
<button class="btn btn-default btn-lg col-md-4 col-xs-4 col-xs-4" id="btn2">School Records</button>
<button class="btn btn-default btn-lg col-md-4 col-xs-4 col-xs-4" id="btn3">Pass Rate</button>
</div>

<div class="container">
<div id="chartcontainer"><h1 class="pager">Peformance Rates</h1>
</div> 

  <div class="row">
  <h1 class="pager">School Records</h1>

<div id="chart-container">

</div> 
</div>

<div id="barchart_material"><h1 class="pager">Pass Rate</h1></div> 
</div>

 <script> 
(function ($) {
$('#btn1').click(function () {
$('#chart-container').hide();
$('#barchart_material').hide();
 $('#chartcontainer').show();
  
 }); 
 })(jQuery);
 
 (function ($) {
$('#btn2').click(function () {
$('#chartcontainer').hide(); 
$('#barchart_material').hide();
 $('#chart-container').show(); 
  });
 })(jQuery);
 
  (function ($) {
$('#btn3').click(function () {
$('#chartcontainer').hide(); 
$('#chart-container').hide(); 
 $('#barchart_material').show(); 
  });
 })(jQuery);
 </script>
 <div class="pager"><%= link_to 'Edit', edit_matricreport_path(@matricreport),class: "link"  %> |
<%= link_to 'Back', matricreports_path,class: "link"  %></div> 
  </body>
</html>



